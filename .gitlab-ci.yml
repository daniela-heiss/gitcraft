# SPDX-FileCopyrightText: 2022-2023 Herbert Thielen <thielen@hs-worms.de>
#
# SPDX-License-Identifier: CC0-1.0

stages:
  - test

# See https://reuse.software/dev/#gitlab
reuse:
  stage: test	# or precommit rule?
  image:
    # For dependency proxy documentation, see
    # https://gitlab.ai.it.hs-worms.de/help/user/packages/dependency_proxy/index.md#use-the-dependency-proxy-for-docker-images
    # Note that the dependency proxy is available at group level only, not for projects (forks)
    # outside of groups, i.e. for a personal fork, you have to remove the dependency proxy prefix.
    # Be aware that as of GitLab 15.9 (2023-03-16) there is a problem with some docker images
    # in relation to dependency proxy, see https://gitlab.com/gitlab-org/gitlab/-/issues/385217 .
    # You may configure a pull-through-mirror for the docker daemons on your
    # gitlab runners (out of scope for this project); e.g. the admins of https://gitlab.rlp.net
    # told they have it configured there.
    # If the docker polling limit is no problem for you, just stay with the standard image name
    # without using the dependency proxy.
    #name: ${CI_DEPENDENCY_PROXY_GROUP_IMAGE_PREFIX}/fsfe/reuse:latest
    name: fsfe/reuse:latest
    entrypoint: [""]
  script:
    - reuse --version
    - reuse lint
  only:
    - /Sprint[0-9]{1}/

